(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.r(t),e.d(t,{default:()=>u});const i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"methods",{}),n(this,"_this",{}),this.methods=t}var t,i;return t=e,(i=[{key:"hasMethod",value:function(e){return!!this.methods[e]}},{key:"callMethod",value:function(e,t){return this.methods[e].apply(this._this,t)}}])&&r(t.prototype,i),e}();function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"services",{}),o(this,"defaultService",null)}var t,r;return t=e,(r=[{key:"addService",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return 0===Object.keys(this.services).length&&(r=!0),this.services[e]=new i(t),r&&(this.defaultService=this.services[e]),this}},{key:"call",value:function(t){var r=this.getDefaultService();if(r.hasMethod(t)){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return r.callMethod(t,i)}return e.ERR_NO_METHOD}},{key:"callAll",value:function(t){for(var r=this,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var o={};return Object.keys(this.services).forEach((function(n){var a=r.getService(n);a.hasMethod(t)?o[n]=a.callMethod(t,i):o[n]=e.ERR_NO_METHOD})),o}},{key:"callOn",value:function(t,r){for(var n=this,i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];var l={};return t.forEach((function(t){if(n.hasService(t)){var i=n.getService(t);i.hasMethod(r)?l[t]=i.callMethod(r,a):l[t]=e.ERR_NO_METHOD}else l[t]=e.ERR_NO_SERVICE})),l}},{key:"setDefaultService",value:function(t){return"string"==typeof t&&this.hasService(t)?(this.defaultService=this.getService(t),this):e.ERR_NO_SERVICE}},{key:"getDefaultService",value:function(){return this.defaultService}},{key:"hasService",value:function(e){return!!this.services[e]}},{key:"getService",value:function(e){return this.services[e]}}])&&a(t.prototype,r),e}();o(l,"ERR_NO_METHOD",-1),o(l,"ERR_NO_SERVICE",-2);const u=l;module.exports=t})();
//# sourceMappingURL=proxy-service-container.js.map