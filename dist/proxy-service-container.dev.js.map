{"version":3,"file":"proxy-service-container.dev.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;IAEMC;;;;sCACe;;4CAEO;;;;;WAM1B,oBAAWC,IAAX,EAAiBC,UAAjB,EAAoE;AAAA,UAAvCC,YAAuC,uEAAxB,EAAwB;AAAA,UAApBC,UAAoB,uEAAP,KAAO;;AAClE,UAAIC,MAAM,CAACC,IAAP,CAAY,KAAKC,QAAjB,EAA2BC,MAA3B,KAAsC,CAA1C,EAA6C;AAC3CJ,QAAAA,UAAU,GAAG,IAAb;AACD;;AACD,WAAKG,QAAL,CAAcN,IAAd,IAAsB,IAAIF,6CAAJ,CAAYG,UAAZ,EAAwBC,YAAxB,CAAtB;;AACA,UAAIC,UAAJ,EAAgB;AACd,aAAKK,cAAL,GAAsB,KAAKF,QAAL,CAAcN,IAAd,CAAtB;AACD;;AACD,aAAO,IAAP;AACD;;;WAED,cAAKA,IAAL,EAAiC;AAC/B,UAAMS,OAAO,GAAG,KAAKC,iBAAL,EAAhB;;AACA,UAAID,OAAO,CAACE,SAAR,CAAkBX,IAAlB,CAAJ,EAA6B;AAAA,0CAFTY,IAES;AAFTA,UAAAA,IAES;AAAA;;AAC3B,eAAOH,OAAO,CAACI,UAAR,CAAmBb,IAAnB,EAAyBY,IAAzB,CAAP;AACD;;AACD,aAAOb,sBAAsB,CAACe,aAA9B;AACD;;;WAED,iBAAQd,IAAR,EAAoC;AAAA;;AAAA,yCAAXY,IAAW;AAAXA,QAAAA,IAAW;AAAA;;AAClC,UAAMG,MAAM,GAAG,EAAf;AACAX,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKC,QAAjB,EAA2BU,OAA3B,CAAmC,UAACC,WAAD,EAAiB;AAClD,YAAMR,OAAO,GAAG,KAAI,CAACS,UAAL,CAAgBD,WAAhB,CAAhB;;AACA,YAAIR,OAAO,CAACE,SAAR,CAAkBX,IAAlB,CAAJ,EAA6B;AAC3Be,UAAAA,MAAM,CAACE,WAAD,CAAN,GAAsBR,OAAO,CAACI,UAAR,CAAmBb,IAAnB,EAAyBY,IAAzB,CAAtB;AACD,SAFD,MAEO;AACLG,UAAAA,MAAM,CAACE,WAAD,CAAN,GAAsBlB,sBAAsB,CAACe,aAA7C;AACD;AACF,OAPD;AAQA,aAAOC,MAAP;AACD;;;WAED,gBAAOI,WAAP,EAAmCnB,IAAnC,EAAuE;AAAA;;AAAA,yCAAnBY,IAAmB;AAAnBA,QAAAA,IAAmB;AAAA;;AACrE,UAAMG,MAAM,GAAG,EAAf;AACAI,MAAAA,WAAW,CAACH,OAAZ,CAAoB,UAACC,WAAD,EAAiB;AACnC,YAAI,MAAI,CAACG,UAAL,CAAgBH,WAAhB,CAAJ,EAAkC;AAChC,cAAMR,OAAO,GAAG,MAAI,CAACS,UAAL,CAAgBD,WAAhB,CAAhB;;AACA,cAAIR,OAAO,CAACE,SAAR,CAAkBX,IAAlB,CAAJ,EAA6B;AAC3Be,YAAAA,MAAM,CAACE,WAAD,CAAN,GAAsBR,OAAO,CAACI,UAAR,CAAmBb,IAAnB,EAAyBY,IAAzB,CAAtB;AACD,WAFD,MAEO;AACLG,YAAAA,MAAM,CAACE,WAAD,CAAN,GAAsBlB,sBAAsB,CAACe,aAA7C;AACD;AACF,SAPD,MAOO;AACLC,UAAAA,MAAM,CAACE,WAAD,CAAN,GAAsBlB,sBAAsB,CAACsB,cAA7C;AACD;AACF,OAXD;AAYA,aAAON,MAAP;AACD;;;WAED,2BAAkBf,IAAlB,EAAiE;AAC/D,UAAI,OAAOA,IAAP,IAAe,QAAnB,EAA6B;AAC3B,YAAI,KAAKoB,UAAL,CAAgBpB,IAAhB,CAAJ,EAA2B;AACzB,eAAKQ,cAAL,GAAsB,KAAKU,UAAL,CAAgBlB,IAAhB,CAAtB;AACA,iBAAO,IAAP;AACD;AACF;;AACD,aAAOD,sBAAsB,CAACsB,cAA9B;AACD;;;WAED,6BAA6B;AAC3B,aAAO,KAAKb,cAAZ;AACD;;;WAED,oBAAWR,IAAX,EAAkC;AAChC,aAAO,CAAC,CAAC,KAAKM,QAAL,CAAcN,IAAd,CAAT;AACD;;;WAED,oBAAWA,IAAX,EAAkC;AAChC,aAAO,KAAKM,QAAL,CAAcN,IAAd,CAAP;AACD;;;;;;gBA9EGD,yCAKmB,CAAC;;gBALpBA,0CAOoB,CAAC;;AA0E3B,iEAAeA,sBAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICnFMD;AAOJ,mBAAYwB,OAAZ,EAAqBpB,YAArB,EAAmC;AAAA;;AAAA,qCANjB,EAMiB;;AAAA,0CAJZ,EAIY;;AAAA,mCAFnB,EAEmB;;AACjC,SAAKoB,OAAL,GAAeA,OAAf;AACA,SAAKpB,YAAL,GAAoBA,YAApB;AACD;;;;WAED,mBAAUF,IAAV,EAAgB;AACd,aAAO,CAAC,CAAC,KAAKsB,OAAL,CAAatB,IAAb,CAAT;AACD;;;WAED,oBAAWA,IAAX,EAAiBY,IAAjB,EAAuB;AACrB,UAAIW,MAAM,GAAG,KAAKD,OAAL,CAAatB,IAAb,CAAb;AACA,UAAIwB,KAAK,GAAGD,MAAM,CAACE,QAAP,GAAkBD,KAAlB,CAAwB,oCAAxB,CAAZ;AACA,UAAIE,SAAS,GAAG,CAACF,KAAK,CAAC,CAAD,CAAL,IAAY,EAAb,EAAiBG,KAAjB,CAAuB,GAAvB,CAAhB;AACA,UAAIC,YAAY,GAAG,EAAnB;AACA,UAAIC,SAAS,GAAG,CAAhB;;AALqB,iDAMJH,SANI;AAAA;;AAAA;AAMrB,4DAA4B;AAAA,cAAnB1B,KAAmB;;AAC1B,cAAI8B,UAAU,GAAG,KAAK5B,YAAL,CAAkBF,KAAI,CAAC+B,IAAL,EAAlB,CAAjB;;AACA,cAAID,UAAJ,EAAgB;AACdF,YAAAA,YAAY,CAACI,IAAb,CAAkBF,UAAlB;AACD,WAFD,MAEO;AACLF,YAAAA,YAAY,CAACI,IAAb,CAAkBpB,IAAI,CAACiB,SAAS,EAAV,CAAtB;AACD;AACF;AAboB;AAAA;AAAA;AAAA;AAAA;;AAcrB,aAAON,MAAM,CAACU,KAAP,CAAa,KAAKC,KAAlB,EAAyBN,YAAzB,CAAP;AACD;;;;;;AAGH,iEAAe9B,OAAf;;;;;;UClCA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;ACNA;AAEA,iEAAeqC,mEAAf,E","sources":["webpack://proxy-service-container/./src/classes/ProxyServiceContainer.tsx","webpack://proxy-service-container/./src/classes/Service.tsx","webpack://proxy-service-container/webpack/bootstrap","webpack://proxy-service-container/webpack/runtime/define property getters","webpack://proxy-service-container/webpack/runtime/hasOwnProperty shorthand","webpack://proxy-service-container/webpack/runtime/make namespace object","webpack://proxy-service-container/./src/main.tsx"],"sourcesContent":["import Service from \"./Service\";\n\nclass ProxyServicesContainer {\n  services: object = {};\n\n  defaultService: Service = null;\n\n  static ERR_NO_METHOD = -1;\n\n  static ERR_NO_SERVICE = -2;\n\n  addService(name, methodsObj, dependencies = {}, setDefault = false) {\n    if (Object.keys(this.services).length === 0) {\n      setDefault = true;\n    }\n    this.services[name] = new Service(methodsObj, dependencies);\n    if (setDefault) {\n      this.defaultService = this.services[name];\n    }\n    return this;\n  }\n\n  call(name: string, ...args: any) {\n    const service = this.getDefaultService();\n    if (service.hasMethod(name)) {\n      return service.callMethod(name, args);\n    }\n    return ProxyServicesContainer.ERR_NO_METHOD;\n  }\n\n  callAll(name: string, ...args: any) {\n    const result = {};\n    Object.keys(this.services).forEach((serviceName) => {\n      const service = this.getService(serviceName);\n      if (service.hasMethod(name)) {\n        result[serviceName] = service.callMethod(name, args);\n      } else {\n        result[serviceName] = ProxyServicesContainer.ERR_NO_METHOD;\n      }\n    });\n    return result;\n  }\n\n  callOn(arrServices: Array<string>, name: string, ...args: any): object {\n    const result = {};\n    arrServices.forEach((serviceName) => {\n      if (this.hasService(serviceName)) {\n        const service = this.getService(serviceName);\n        if (service.hasMethod(name)) {\n          result[serviceName] = service.callMethod(name, args);\n        } else {\n          result[serviceName] = ProxyServicesContainer.ERR_NO_METHOD;\n        }\n      } else {\n        result[serviceName] = ProxyServicesContainer.ERR_NO_SERVICE;\n      }\n    });\n    return result;\n  }\n\n  setDefaultService(name: string): ProxyServicesContainer | number {\n    if (typeof name == \"string\") {\n      if (this.hasService(name)) {\n        this.defaultService = this.getService(name);\n        return this;\n      }\n    }\n    return ProxyServicesContainer.ERR_NO_SERVICE;\n  }\n\n  getDefaultService(): Service {\n    return this.defaultService;\n  }\n\n  hasService(name: string): boolean {\n    return !!this.services[name];\n  }\n\n  getService(name: string): Service {\n    return this.services[name];\n  }\n}\n\nexport default ProxyServicesContainer;\n","class Service {\n  methods: object = {};\n\n  dependencies: object = {};\n\n  _this: object = {};\n\n  constructor(methods, dependencies) {\n    this.methods = methods;\n    this.dependencies = dependencies;\n  }\n\n  hasMethod(name) {\n    return !!this.methods[name];\n  }\n\n  callMethod(name, args) {\n    let method = this.methods[name];\n    let match = method.toString().match(/^function\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m);\n    let argsNames = (match[1] || \"\").split(\",\");\n    let argsToInject = [];\n    let argsIndex = 0;\n    for (let name of argsNames) {\n      let dependency = this.dependencies[name.trim()];\n      if (dependency) {\n        argsToInject.push(dependency);\n      } else {\n        argsToInject.push(args[argsIndex++]);\n      }\n    }\n    return method.apply(this._this, argsToInject);\n  }\n}\n\nexport default Service;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import ProxyServiceContainer from \"./classes/ProxyServiceContainer\";\n\nexport default ProxyServiceContainer;\n"],"names":["Service","ProxyServicesContainer","name","methodsObj","dependencies","setDefault","Object","keys","services","length","defaultService","service","getDefaultService","hasMethod","args","callMethod","ERR_NO_METHOD","result","forEach","serviceName","getService","arrServices","hasService","ERR_NO_SERVICE","methods","method","match","toString","argsNames","split","argsToInject","argsIndex","dependency","trim","push","apply","_this","ProxyServiceContainer"],"sourceRoot":""}